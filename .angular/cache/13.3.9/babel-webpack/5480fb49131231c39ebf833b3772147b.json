{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\DADOS\\\\\\xC1rea de Trabalho\\\\CRUD em angular\\\\Crud\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { faTrash, faPenSquare, faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { Validators } from '@angular/forms';\nimport { BsModalRef, ModalOptions } from 'ngx-bootstrap/modal';\nlet HomeComponent = class HomeComponent {\n  constructor(restauranteSerice, form, toast, modalService) {\n    this.restauranteSerice = restauranteSerice;\n    this.form = form;\n    this.toast = toast;\n    this.modalService = modalService;\n    this.listaRestaurantes = [];\n    this.nomeRestaurante = [];\n    this.faTrash = faTrash;\n    this.faPenSquare = faPenSquare;\n    this.faPlus = faPlus;\n    this.restauranteID = 0;\n    this.defaultOptions = new ModalOptions();\n    this.modalRef = new BsModalRef();\n  }\n\n  ngOnInit() {\n    this.listarRestaurantes();\n    this.formRestaurante = this.form.group({\n      nomeRestaurante: ['', Validators.required]\n    });\n  }\n\n  listarRestaurantes() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.restauranteSerice.listarRestaurantes().then(res => {\n        _this.listaRestaurantes = res;\n      }).catch(() => {\n        _this.toast.error({\n          detail: 'Erro',\n          summary: 'Não foi possível listar os restaurantes',\n          sticky: true\n        });\n      });\n    })();\n  }\n\n  adicionarRestaurantes() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b, _c;\n\n      if (((_a = _this2.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value) == undefined) {\n        _this2.toast.warning({\n          detail: 'Aviso',\n          summary: 'Favor preencha o campo para continuar',\n          duration: 2000\n        });\n\n        (_b = _this2.formRestaurante.get('nomeRestaurante')) === null || _b === void 0 ? void 0 : _b.markAsTouched();\n      } else {\n        const inBody = {\n          nome: (_c = _this2.formRestaurante.get('nomeRestaurante')) === null || _c === void 0 ? void 0 : _c.value\n        };\n        yield _this2.restauranteSerice.addRestaurantes(inBody).then(() => {\n          var _a;\n\n          (_a = _this2.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue('');\n\n          _this2.toast.success({\n            detail: 'Sucesso',\n            summary: 'Restaurante adicionado com êxito',\n            duration: 2000\n          });\n\n          _this2.listarRestaurantes();\n        }).catch(() => {\n          _this2.toast.error({\n            detail: 'Erro',\n            summary: 'Não foi possível adicionar um restaurante',\n            sticky: true\n          });\n        });\n      }\n    })();\n  }\n\n  deletarRestaurantes(idRestaurante) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const inBody = {\n        id: idRestaurante\n      };\n      yield _this3.restauranteSerice.removerRestaurantes(inBody).then(() => {\n        _this3.listarRestaurantes();\n      });\n    })();\n  }\n\n  buscaRestauranteID(id) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.restauranteID = id;\n      const inBody = {\n        id: id\n      };\n      yield _this4.restauranteSerice.getRestauranteID(inBody).then(data => {\n        var _a;\n\n        _this4.nomeRestaurante = data;\n        (_a = _this4.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue(_this4.nomeRestaurante.nome);\n      }).catch();\n    })();\n  }\n\n  editarRestaurante() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      const inBody = {\n        nome: (_a = _this5.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value,\n        id: _this5.restauranteID\n      };\n\n      _this5.restauranteSerice.editarRestaurante(inBody).then(() => {\n        _this5.toast.success({\n          detail: 'Sucesso',\n          summary: 'Nome alterado com sucesso!',\n          duration: 2000\n        });\n\n        _this5.listarRestaurantes();\n      }).catch(() => {\n        _this5.toast.error({\n          detail: 'Erro',\n          summary: 'Não foi possível alterar os dados',\n          sticky: true\n        });\n      });\n    })();\n  }\n\n  openModal(template) {\n    this.defaultOptions = {\n      backdrop: \"static\",\n      keyboard: false,\n      class: \"modal-dialog-centered modal-md\"\n    };\n    this.modalRef = this.modalService.show(template, this.defaultOptions);\n  }\n\n  close(option) {\n    this.confirmResultReset.next(option);\n    this.modalRef.hide();\n  }\n\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html'\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"sources":["D:/DADOS/Área de Trabalho/CRUD em angular/Crud/src/app/view/home/home.component.ts"],"names":["__decorate","Component","faTrash","faPenSquare","faPlus","Validators","BsModalRef","ModalOptions","HomeComponent","constructor","restauranteSerice","form","toast","modalService","listaRestaurantes","nomeRestaurante","restauranteID","defaultOptions","modalRef","ngOnInit","listarRestaurantes","formRestaurante","group","required","then","res","catch","error","detail","summary","sticky","adicionarRestaurantes","_a","_b","_c","get","value","undefined","warning","duration","markAsTouched","inBody","nome","addRestaurantes","setValue","success","deletarRestaurantes","idRestaurante","id","removerRestaurantes","buscaRestauranteID","getRestauranteID","data","editarRestaurante","openModal","template","backdrop","keyboard","class","show","close","option","confirmResultReset","next","hide","selector","templateUrl"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { faTrash, faPenSquare, faPlus } from '@fortawesome/free-solid-svg-icons';\r\nimport { Validators } from '@angular/forms';\r\nimport { BsModalRef, ModalOptions } from 'ngx-bootstrap/modal';\r\nlet HomeComponent = class HomeComponent {\r\n    constructor(restauranteSerice, form, toast, modalService) {\r\n        this.restauranteSerice = restauranteSerice;\r\n        this.form = form;\r\n        this.toast = toast;\r\n        this.modalService = modalService;\r\n        this.listaRestaurantes = [];\r\n        this.nomeRestaurante = [];\r\n        this.faTrash = faTrash;\r\n        this.faPenSquare = faPenSquare;\r\n        this.faPlus = faPlus;\r\n        this.restauranteID = 0;\r\n        this.defaultOptions = new ModalOptions;\r\n        this.modalRef = new BsModalRef;\r\n    }\r\n    ngOnInit() {\r\n        this.listarRestaurantes();\r\n        this.formRestaurante = this.form.group({\r\n            nomeRestaurante: ['', Validators.required],\r\n        });\r\n    }\r\n    async listarRestaurantes() {\r\n        await this.restauranteSerice\r\n            .listarRestaurantes()\r\n            .then((res) => {\r\n            this.listaRestaurantes = res;\r\n        })\r\n            .catch(() => {\r\n            this.toast.error({\r\n                detail: 'Erro',\r\n                summary: 'Não foi possível listar os restaurantes',\r\n                sticky: true,\r\n            });\r\n        });\r\n    }\r\n    async adicionarRestaurantes() {\r\n        var _a, _b, _c;\r\n        if (((_a = this.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value) == undefined) {\r\n            this.toast.warning({\r\n                detail: 'Aviso',\r\n                summary: 'Favor preencha o campo para continuar',\r\n                duration: 2000,\r\n            });\r\n            (_b = this.formRestaurante.get('nomeRestaurante')) === null || _b === void 0 ? void 0 : _b.markAsTouched();\r\n        }\r\n        else {\r\n            const inBody = {\r\n                nome: (_c = this.formRestaurante.get('nomeRestaurante')) === null || _c === void 0 ? void 0 : _c.value,\r\n            };\r\n            await this.restauranteSerice\r\n                .addRestaurantes(inBody)\r\n                .then(() => {\r\n                var _a;\r\n                (_a = this.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue('');\r\n                this.toast.success({\r\n                    detail: 'Sucesso',\r\n                    summary: 'Restaurante adicionado com êxito',\r\n                    duration: 2000,\r\n                });\r\n                this.listarRestaurantes();\r\n            })\r\n                .catch(() => {\r\n                this.toast.error({\r\n                    detail: 'Erro',\r\n                    summary: 'Não foi possível adicionar um restaurante',\r\n                    sticky: true,\r\n                });\r\n            });\r\n        }\r\n    }\r\n    async deletarRestaurantes(idRestaurante) {\r\n        const inBody = {\r\n            id: idRestaurante,\r\n        };\r\n        await this.restauranteSerice.removerRestaurantes(inBody).then(() => {\r\n            this.listarRestaurantes();\r\n        });\r\n    }\r\n    async buscaRestauranteID(id) {\r\n        this.restauranteID = id;\r\n        const inBody = {\r\n            id: id,\r\n        };\r\n        await this.restauranteSerice\r\n            .getRestauranteID(inBody)\r\n            .then((data) => {\r\n            var _a;\r\n            this.nomeRestaurante = data;\r\n            (_a = this.formRestaurante\r\n                .get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue(this.nomeRestaurante.nome);\r\n        })\r\n            .catch();\r\n    }\r\n    async editarRestaurante() {\r\n        var _a;\r\n        const inBody = {\r\n            nome: (_a = this.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value,\r\n            id: this.restauranteID,\r\n        };\r\n        this.restauranteSerice\r\n            .editarRestaurante(inBody)\r\n            .then(() => {\r\n            this.toast.success({\r\n                detail: 'Sucesso',\r\n                summary: 'Nome alterado com sucesso!',\r\n                duration: 2000,\r\n            });\r\n            this.listarRestaurantes();\r\n        })\r\n            .catch(() => {\r\n            this.toast.error({\r\n                detail: 'Erro',\r\n                summary: 'Não foi possível alterar os dados',\r\n                sticky: true,\r\n            });\r\n        });\r\n    }\r\n    openModal(template) {\r\n        this.defaultOptions = {\r\n            backdrop: \"static\",\r\n            keyboard: false,\r\n            class: \"modal-dialog-centered modal-md\"\r\n        };\r\n        this.modalRef = this.modalService.show(template, this.defaultOptions);\r\n    }\r\n    close(option) {\r\n        this.confirmResultReset.next(option);\r\n        this.modalRef.hide();\r\n    }\r\n};\r\nHomeComponent = __decorate([\r\n    Component({\r\n        selector: 'app-home',\r\n        templateUrl: './home.component.html',\r\n    })\r\n], HomeComponent);\r\nexport { HomeComponent };\r\n"]},"metadata":{},"sourceType":"module"}