{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\DADOS\\\\\\xC1rea de Trabalho\\\\CRUD em angular\\\\Crud\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { faTrash, faPenSquare } from '@fortawesome/free-solid-svg-icons';\nimport { Validators } from '@angular/forms';\nexport class HomeComponent {\n  constructor(restauranteSerice, form, toast) {\n    this.restauranteSerice = restauranteSerice;\n    this.form = form;\n    this.toast = toast;\n    this.listaRestaurantes = [];\n    this.nomeRestaurante = [];\n    this.faTrash = faTrash;\n    this.faPenSquare = faPenSquare;\n    this.restauranteID = 0;\n  }\n\n  ngOnInit() {\n    this.listarRestaurantes();\n    this.formRestaurante = this.form.group({\n      nomeRestaurante: ['', Validators.required]\n    });\n  }\n\n  listarRestaurantes() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.restauranteSerice.listarRestaurantes().then(res => {\n        _this.listaRestaurantes.push(res);\n      }).catch(() => {\n        _this.toast.error({\n          detail: 'ERRO',\n          summary: 'Algo inesperado aconteceu!',\n          sticky: true\n        });\n      });\n    })();\n  }\n\n  adicionarRestaurantes() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a, _b, _c;\n\n      if (((_a = _this2.formRestaurante.get('nomeResturante')) === null || _a === void 0 ? void 0 : _a.value) == undefined) {\n        _this2.toast.warning({\n          detail: 'Aviso',\n          summary: 'Favor preencha o campo para continuar',\n          duration: 5000\n        });\n\n        (_b = _this2.formRestaurante.get('nomeRestaurante')) === null || _b === void 0 ? void 0 : _b.markAsTouched();\n      } else {\n        const inBody = {\n          nome: (_c = _this2.formRestaurante.get('nomeRestaurante')) === null || _c === void 0 ? void 0 : _c.value\n        };\n        yield _this2.restauranteSerice.addRestaurantes(inBody).then(() => {\n          _this2.toast.success({\n            detail: 'Sucesso',\n            summary: 'Restaurante adicionado com êxito',\n            duration: 5000\n          });\n\n          _this2.listarRestaurantes();\n        }).catch(() => {\n          _this2.toast.error({\n            detail: 'ERRO',\n            summary: 'Algo inesperado aconteceu!',\n            sticky: true\n          });\n        });\n      }\n    })();\n  }\n\n  deletarRestaurantes(idRestaurante) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const inBody = {\n        id: idRestaurante\n      };\n      yield _this3.restauranteSerice.removerRestaurantes(inBody).then(() => {\n        _this3.listarRestaurantes();\n      });\n    })();\n  }\n\n  buscaRestauranteID(id) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      _this4.restauranteID = id;\n      const inBody = {\n        id: id\n      };\n      yield _this4.restauranteSerice.getRestauranteID(inBody).then(data => {\n        var _a;\n\n        _this4.nomeRestaurante = data;\n        (_a = _this4.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue(_this4.nomeRestaurante.nome);\n      }).catch();\n    })();\n  }\n\n  editarRestaurante() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      var _a;\n\n      const inBody = {\n        nome: (_a = _this5.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value,\n        id: _this5.restauranteID\n      };\n\n      _this5.restauranteSerice.editarRestaurante(inBody).then(() => {\n        _this5.toast.success({\n          detail: 'Sucesso',\n          summary: 'Nome alterado com sucesso!',\n          duration: 5000\n        });\n\n        _this5.listarRestaurantes();\n      }).catch(() => {\n        _this5.toast.error({\n          detail: 'ERRO',\n          summary: 'Algo inesperado aconteceu!',\n          sticky: true\n        });\n      });\n    })();\n  }\n\n}","map":{"version":3,"sources":["D:/DADOS/Área de Trabalho/CRUD em angular/Crud/src/app/view/home/home.component.ts"],"names":["faTrash","faPenSquare","Validators","HomeComponent","constructor","restauranteSerice","form","toast","listaRestaurantes","nomeRestaurante","restauranteID","ngOnInit","listarRestaurantes","formRestaurante","group","required","then","res","push","catch","error","detail","summary","sticky","adicionarRestaurantes","_a","_b","_c","get","value","undefined","warning","duration","markAsTouched","inBody","nome","addRestaurantes","success","deletarRestaurantes","idRestaurante","id","removerRestaurantes","buscaRestauranteID","getRestauranteID","data","setValue","editarRestaurante"],"mappings":"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","sourcesContent":["import { faTrash, faPenSquare } from '@fortawesome/free-solid-svg-icons';\r\nimport { Validators } from '@angular/forms';\r\nexport class HomeComponent {\r\n    constructor(restauranteSerice, form, toast) {\r\n        this.restauranteSerice = restauranteSerice;\r\n        this.form = form;\r\n        this.toast = toast;\r\n        this.listaRestaurantes = [];\r\n        this.nomeRestaurante = [];\r\n        this.faTrash = faTrash;\r\n        this.faPenSquare = faPenSquare;\r\n        this.restauranteID = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.listarRestaurantes();\r\n        this.formRestaurante = this.form.group({\r\n            nomeRestaurante: ['', Validators.required],\r\n        });\r\n    }\r\n    async listarRestaurantes() {\r\n        await this.restauranteSerice\r\n            .listarRestaurantes()\r\n            .then((res) => {\r\n            this.listaRestaurantes.push(res);\r\n        })\r\n            .catch(() => {\r\n            this.toast.error({\r\n                detail: 'ERRO',\r\n                summary: 'Algo inesperado aconteceu!',\r\n                sticky: true,\r\n            });\r\n        });\r\n    }\r\n    async adicionarRestaurantes() {\r\n        var _a, _b, _c;\r\n        if (((_a = this.formRestaurante.get('nomeResturante')) === null || _a === void 0 ? void 0 : _a.value) == undefined) {\r\n            this.toast.warning({\r\n                detail: 'Aviso',\r\n                summary: 'Favor preencha o campo para continuar',\r\n                duration: 5000,\r\n            });\r\n            (_b = this.formRestaurante.get('nomeRestaurante')) === null || _b === void 0 ? void 0 : _b.markAsTouched();\r\n        }\r\n        else {\r\n            const inBody = {\r\n                nome: (_c = this.formRestaurante.get('nomeRestaurante')) === null || _c === void 0 ? void 0 : _c.value,\r\n            };\r\n            await this.restauranteSerice\r\n                .addRestaurantes(inBody)\r\n                .then(() => {\r\n                this.toast.success({\r\n                    detail: 'Sucesso',\r\n                    summary: 'Restaurante adicionado com êxito',\r\n                    duration: 5000,\r\n                });\r\n                this.listarRestaurantes();\r\n            })\r\n                .catch(() => {\r\n                this.toast.error({\r\n                    detail: 'ERRO',\r\n                    summary: 'Algo inesperado aconteceu!',\r\n                    sticky: true,\r\n                });\r\n            });\r\n        }\r\n    }\r\n    async deletarRestaurantes(idRestaurante) {\r\n        const inBody = {\r\n            id: idRestaurante,\r\n        };\r\n        await this.restauranteSerice.removerRestaurantes(inBody).then(() => {\r\n            this.listarRestaurantes();\r\n        });\r\n    }\r\n    async buscaRestauranteID(id) {\r\n        this.restauranteID = id;\r\n        const inBody = {\r\n            id: id,\r\n        };\r\n        await this.restauranteSerice\r\n            .getRestauranteID(inBody)\r\n            .then((data) => {\r\n            var _a;\r\n            this.nomeRestaurante = data;\r\n            (_a = this.formRestaurante\r\n                .get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.setValue(this.nomeRestaurante.nome);\r\n        })\r\n            .catch();\r\n    }\r\n    async editarRestaurante() {\r\n        var _a;\r\n        const inBody = {\r\n            nome: (_a = this.formRestaurante.get('nomeRestaurante')) === null || _a === void 0 ? void 0 : _a.value,\r\n            id: this.restauranteID,\r\n        };\r\n        this.restauranteSerice\r\n            .editarRestaurante(inBody)\r\n            .then(() => {\r\n            this.toast.success({\r\n                detail: 'Sucesso',\r\n                summary: 'Nome alterado com sucesso!',\r\n                duration: 5000,\r\n            });\r\n            this.listarRestaurantes();\r\n        })\r\n            .catch(() => {\r\n            this.toast.error({\r\n                detail: 'ERRO',\r\n                summary: 'Algo inesperado aconteceu!',\r\n                sticky: true,\r\n            });\r\n        });\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}